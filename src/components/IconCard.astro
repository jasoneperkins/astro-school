---
import { Icon } from 'astro-icon/components'
import CustomIcon from './CustomIcon.astro'

import '@styles/components/itemCards.css'

interface Props {
  title: string
  description: string
  icon?: string // Lucide icon name (e.g., 'lucide:baby')
  sanityIcon?: {
    asset: {
      url: string
    }
  }
  color?: 'red' | 'blue' | 'green' | 'orange' | 'purple' | 'yellow' | 'teal'
  align?: 'left' | 'center'
}

const {
  title,
  description,
  icon,
  sanityIcon,
  color = 'blue',
  align = 'left'
} = Astro.props

const borderColors: Record<string, string> = {
  red: 'hover:border-red-600/50!',
  blue: 'hover:border-blue-600/50!',
  green: 'hover:border-green-600/50!',
  orange: 'hover:border-orange-500/50!',
  purple: 'hover:border-purple-600/50!',
  yellow: 'hover:border-yellow-500/50!',
  teal: 'hover:border-teal-600/50!'
}

const borderColorClass = borderColors[color] || 'hover:border-gray-500/50!'
const alignClass =
  align === 'center' ? 'text-center items-center' : 'text-left items-start'
---

<article class={`item group h-full ${borderColorClass} ${alignClass}`}>
  <div class="flex w-full h-full flex-col gap-3 p-6">
    {
      (sanityIcon || icon) && (
        <div class={`${align === 'center' ? 'mx-auto' : ''}`}>
          {sanityIcon ? (
            <CustomIcon
              url={sanityIcon.asset.url}
              class="size-14"
            />
          ) : (
            <Icon
              name={icon!}
              class="size-10 text-black"
              aria-hidden="true"
            />
          )}
        </div>
      )
    }
    <h3 class="font-bold text-gray-900">{title}</h3>
    <p class="text-sm leading-relaxed text-gray-800">
      {description}
    </p>
  </div>
</article>
