---
import {Image} from 'astro:assets'
import {Icon} from 'astro-icon/components'

import '@styles/components/itemCards.css'

interface Props {
  title: string
  description: string
  icon?: string
  image?: ImageMetadata
  color?: 'red' | 'blue' | 'green' | 'orange'
  align?: 'left' | 'center'
}

const borderColors: Record<string, string> = {
  red: 'hover:border-red-500!',
  blue: 'hover:border-blue-500!',
  green: 'hover:border-green-500!',
  orange: 'hover:border-orange-500!'
}

const {
  title,
  description,
  icon,
  image,
  color = 'blue',
  align = 'left'
} = Astro.props

const borderColorClass = borderColors[color] || 'hover:border-gray-500!'
const alignClass =
  align === 'center' ? 'text-center items-center' : 'text-left items-start'
---

<article class={`item group ${borderColorClass} ${alignClass}`}>
  {
    image && (
      <div class="w-full overflow-hidden rounded-t-lg">
        <Image
          src={image}
          alt={title}
          class="h-48 w-full object-cover transition-transform duration-500 group-hover:scale-105"
        />
      </div>
    )
  }
  <div class="flex w-full flex-col gap-3 p-6">
    {
      !image && icon && (
        <div class={`mb-2 ${align === 'center' ? 'mx-auto' : ''}`}>
          <Icon
            name={icon}
            class="size-10 text-gray-400 transition-colors group-hover:text-blue-600"
            aria-hidden="true"
          />
        </div>
      )
    }
    <h3 class="font-bold text-gray-900">{title}</h3>
    <p class="text-sm leading-relaxed text-gray-800">
      {description}
    </p>
  </div>
</article>
