---
import Layout from '@layouts/Common.astro'
import {fetchClassroom, fetchClassrooms} from '@queries/classroom'

export async function getStaticPaths() {
  const classrooms = await fetchClassrooms()

  return classrooms.map(({info}) => ({
    params: {slug: info.slug.current},
    props: {slug: info.slug.current}
  }))
}

const {slug} = Astro.params
const {info, seo, social} = await fetchClassroom(slug)

export const prerender = true
---

<Layout info={info} seo={seo} social={social}>
  <div class="content py-content-block">
    <header>
      <h1>{info.title}</h1>
      {info.subTitle && <p>{info.subTitle}</p>}
    </header>
  </div>
</Layout>
